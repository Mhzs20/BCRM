@import "remixicon/fonts/remixicon.css";

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer components {
    .btn-action {
        @apply inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 transition ease-in-out duration-150;
    }

    .btn-secondary {
        @apply inline-flex items-center justify-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition ease-in-out duration-150;
    }
}

@layer utilities {
    /* Custom scrollbar for sidebar */
    .custom-scroll {
        scrollbar-width: thin;
        scrollbar-color: rgba(156, 163, 175, 0.5) transparent;
    }
    
    .custom-scroll::-webkit-scrollbar {
        width: 6px;
    }
    
    .custom-scroll::-webkit-scrollbar-track {
        background: transparent;
    }
    
    .custom-scroll::-webkit-scrollbar-thumb {
        background-color: rgba(156, 163, 175, 0.5);
        border-radius: 3px;
    }
    
    .custom-scroll::-webkit-scrollbar-thumb:hover {
        background-color: rgba(156, 163, 175, 0.7);
    }

    /* Sticky sidebar header */
    .sidebar-sticky-header {
        position: sticky;
        top: 0;
        z-index: 10;
        background: inherit;
        backdrop-filter: blur(8px);
    }

    /* Mobile touch improvements */
    @media (max-width: 768px) {
        .touch-action-pan-y {
            touch-action: pan-y;
        }
        
        /* Improve tap targets on mobile */
        button, a, [role="button"], input, select, textarea {
            min-height: 44px;
        }
        
        /* Better spacing for mobile forms */
        .mobile-form-spacing > * + * {
            margin-top: 1rem;
        }
    }

    /* Prevent horizontal scroll on mobile */
    .overflow-x-hidden {
        overflow-x: hidden;
    }

    /* Mobile table alternatives */
    .mobile-table-card {
        @apply bg-white border border-gray-200 rounded-lg p-4 mb-3 shadow-sm;
    }

    .mobile-table-card .field {
        @apply flex justify-between items-center py-1 text-sm;
    }

    .mobile-table-card .field .label {
        @apply font-medium text-gray-600;
    }

    .mobile-table-card .field .value {
        @apply text-gray-900;
    }

    /* Responsive grid improvements */
    .responsive-grid {
        display: grid;
        grid-template-columns: 1fr;
        gap: 1rem;
    }

    @media (min-width: 640px) {
        .responsive-grid {
            grid-template-columns: repeat(2, 1fr);
        }
    }

    @media (min-width: 1024px) {
        .responsive-grid {
            grid-template-columns: repeat(3, 1fr);
        }
    }

    @media (min-width: 1280px) {
        .responsive-grid {
            grid-template-columns: repeat(4, 1fr);
        }
    }
}

/* Mobile-first improvements */
@media (max-width: 640px) {
    /* Ensure forms are mobile-friendly */
    .form-input, .form-select, .form-textarea {
        @apply text-base; /* Prevent zoom on iOS */
    }
    
    /* Better button spacing on mobile */
    .mobile-button-stack > * + * {
        margin-top: 0.5rem;
    }
    
    /* Improved modal/dropdown positioning on mobile */
    .mobile-dropdown {
        position: fixed !important;
        top: 50% !important;
        left: 50% !important;
        transform: translate(-50%, -50%) !important;
        width: calc(100vw - 2rem) !important;
        max-width: 400px !important;
    }
}

/* Chart responsiveness */
.chart-container {
    position: relative;
    height: 250px;
    width: 100%;
}

@media (max-width: 640px) {
    .chart-container {
        height: 200px;
    }
}

/* Fix for RTL layout issues on mobile */
@media (max-width: 768px) {
    [dir="rtl"] .sidebar-mobile {
        right: 0;
        left: auto;
    }
    
    [dir="rtl"] .sidebar-mobile.open {
        transform: translateX(0);
    }
    
    [dir="rtl"] .sidebar-mobile.closed {
        transform: translateX(100%);
    }
}

